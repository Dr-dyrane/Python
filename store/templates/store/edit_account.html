{% extends "store/main.html" %}
{% load static %}
{% block content %}


<div class="row">
    <div class="col-lg-12 text-center">
        <div id="profile" class="box-element"style="">

            <form class="" method="POST" action="{% url 'update_account' user.id %}">
                {% csrf_token %}
                <div class="back" style="
                    position: absolute;
                    left: 25px;
                    top:20px;">
                    <a href="{% url 'account' %}">
                        <i style="color:white;"class="bi bi-caret-left-fill"></i>
                    </a>
                </div>
                <div class="edit-header">
                    <section style="text-align:center;
                        padding:3%;
                        border:thin solid black;
                        border-radius:20px">
                        <label for="input-image" style="cursor:pointer;position:relative">
                            <img name="image"
                            style="width:100px; length:100px;
                                    border:2px solid;
                                    border-radius:50%;
                                    margin:15px" 
                            src="{{user.imageURL}}" />
                            <i style="font-size:24px;
                                      color:white;
                                      top:62.5%;
                                      right:16%;
                                      position:absolute;
                                      " class="bi bi-camera"></i>
                            <input style="border:none;width:220px;display:none" type="file" id="input-image" name="image" /><br>
                            <span style="color:green"id="imageName"></span>
                        </label>
                    </section>
                    <section>
                        <label style="color:white">Name</label>
                        <input type="text" name="name"
                        value="{{user.name}}" />
                    </section>

                    <section>
                        <label style="color:white">Email</label>
                        <input type="email" name="email"
                        value="{{user.email}}" />
                    </section>
                </div>

                <div style="padding:15px;margin: 25px 0px 0px 0px;box-shadow:none;border-radius:34px;"id="" class="box-element edit">

                    <div style="margin:10px"class="contact text-center">
                        <div style="display:flex; justify-content:space-between; flex-direction:column;" class="phone">
                            <section style="flex:50%">
                                Phone
                            </section>
                            <section style="flex:50%">
                                <input type="number" name="phone" value="{{user.phone}}" />
                            </section>
                        </div>

                        <div style="display:flex ;justify-content:space-between; flex-direction:column;" class="address">
                            <section style="flex:50%">
                                Address
                            </section>
                            <section style="flex:50%">
                                <input type="text" name="address" value="{{ship.address}}" />
                            </section>
                        </div>

                        <div style="display:flex justify-content:space-between; flex-direction:column;" class="city">
                            <section style="flex:50%">
                                City
                            </section>
                            <section style="flex:50%">
                                <input type="text" name="city" value="{{ship.city}}" />
                            </section>
                        </div>
                    </div>


                    <div style="display:flex; justify-content: center; ">

                        <input style="margin:20px 5px 0px 5px;border:none; border-radius:30px;padding:8px;background-color:black;color:white" class=" profile-btn-a" type="submit" value="Save" />
                    </div>

                </div>
            </form>

        </div>

    </div>
</div>
<script>
    let input = document.getElementById("input-image");
    let imageName = document.getElementById("imageName")

    input.addEventListener("change", ()=> {
        let inputImage = document.querySelector("input[type=file]").files[0];
        imageName.innerText = inputImage.name;
    })
</script>
{% endblock content %}